
print("\n\n--------------- 8.避免链式赋值 ---------------")
# 链式赋值（chained assignment）是 Pandas 中常见的性能陷阱之一。它可能导致不必要的副作用，并且通常会减慢执行速度。
# 最好使用明确的赋值方式，避免在同一行中进行多次赋值。
import pandas as pd

df = pd.DataFrame({'A': [1, 2, 3, 4], 'B': [5, 6, 7, 8]})

print("df['A'][df['A'] > 2] = 0 : 链式赋值：可能引发警告并影响性能")
df['A'][df['A'] > 2] = 0        # 链式赋值：可能引发警告并影响性能

print("df.loc[df['A'] > 2, 'A'] = 0 : 正确赋值方法")
df.loc[df['A'] > 2, 'A'] = 0    # 正确赋值方法



